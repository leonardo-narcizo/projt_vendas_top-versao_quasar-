import{d as A,_ as S,q as l,l as c,m as o,V as p,f as t,W as P,X as D,Y as x,u as v,Z as b,$ as C,r as _,a0 as L,a1 as M,a2 as w,a3 as V,a4 as F,a5 as Q,a6 as T,c as B,a7 as E,C as O,n as q,p as g,Q as H,a8 as y,t as N,y as I,a9 as R,aa as U,F as z,ab as $}from"./index.216f6746.js";import{Q as W,f as X,a as Y,b as Z}from"./foto_1.dacdf585.js";const j=A({name:"EssentialLink",props:{title:{type:String,required:!0},to:{type:String,required:!0},icon:{type:String,default:""}}});function G(a,n,r,e,i,u){return l(),c(C,{clickable:"",tag:"router-link",to:a.to,class:"essential-link"},{default:o(()=>[a.icon?(l(),c(p,{key:0,avatar:""},{default:o(()=>[t(P,{name:a.icon,class:"icon-label"},null,8,["name"])]),_:1})):D("",!0),t(p,null,{default:o(()=>[t(x,{class:"link-label"},{default:o(()=>[v(b(a.title),1)]),_:1})]),_:1})]),_:1},8,["to"])}var J=S(j,[["render",G],["__scopeId","data-v-5190f7f2"]]);const K={name:"AvatarMenu",setup(){const a=_(!1),n=L(),r=M();return{menu:a,goToProfile:()=>{r.push("/profile")},logout:()=>{n.commit("user/logout"),r.push("/")}}}};function ee(a,n,r,e,i,u){return l(),c(F,{modelValue:e.menu,"onUpdate:modelValue":n[0]||(n[0]=d=>e.menu=d),anchor:"top right",self:"bottom right"},{default:o(()=>[t(V,null,{default:o(()=>[w((l(),c(C,{clickable:"",onClick:e.goToProfile},{default:o(()=>[t(p,null,{default:o(()=>[v("Perfil")]),_:1})]),_:1},8,["onClick"])),[[Q]]),w((l(),c(C,{clickable:"",onClick:e.logout},{default:o(()=>[t(p,null,{default:o(()=>[v("Sair")]),_:1})]),_:1},8,["onClick"])),[[Q]])]),_:1})]),_:1},8,["modelValue"])}var te=S(K,[["render",ee],["__scopeId","data-v-495a32c0"]]);const oe={components:{EssentialLink:J,StatusOnFooter:T,AvatarMenu:te},props:{namePage:{type:String,required:!0}},setup(){const a=_(!1),n=_(!1),r=L(),e=M(),i=B(()=>r.getters["user/getIsAuthenticated"]),u=_(!1),d=_("/"),f=[{title:"Home",to:"/home",icon:"home"},{title:"Colocar um carro \xE0 venda",to:"/postCar",icon:"add_circle"},{title:"Propostas de compra",to:"/proposals",icon:"mail"},{title:"Comprar carro",to:"/buyCar",icon:"shopping_cart"},{title:"Meus insights",to:"/insights",icon:"bar_chart"}],k=()=>(r.commit("user/logout"),u.value=!0,setTimeout(()=>{e.push(d.value)},1250)),h={backgroundImage:`url(${X})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},s=sessionStorage.getItem("username");return E(async()=>{try{await r.dispatch("socket/connectSocket")}catch(m){console.error("Erro ao conectar ao servidor Socket.IO:",m)}}),O(async()=>{try{await r.dispatch("socket/disconnectSocket")}catch(m){console.error("Erro ao desconectar ao servidor Socket.IO:",m)}}),{leftDrawerOpen:a,avatarMenu:n,items:f,backgroundStyle:h,showFooter:u,logout:k,isAuthenticated:i,avatar:s,toggleLeftDrawer(){a.value=!a.value},toggleAvatarMenu(){n.value=!n.value}}}},ae={class:"name-page"},ne={class:"right-side"};function re(a,n,r,e,i,u){const d=g("AvatarMenu"),f=g("essential-link"),k=g("status-on-footer"),h=g("router-view");return l(),c(W,{style:q(e.backgroundStyle),view:"hhr LpR lFf"},{default:o(()=>[t(Y,{elevated:"",class:"header bg-primary text-white"},{default:o(()=>[t(H,{class:"toolbar"},{default:o(()=>[t(y,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),t(N,{class:"toolbar-title"},{default:o(()=>[I("div",ae,b(r.namePage),1),I("div",ne,[t(y,{flat:"",icon:"notifications",class:"notifications"}),t(y,{flat:"","no-caps":"",class:"avatar",onClick:e.toggleAvatarMenu},{default:o(()=>[v(b(e.avatar),1)]),_:1},8,["onClick"]),t(d,{menu:e.avatarMenu},null,8,["menu"])])]),_:1})]),_:1})]),_:1}),t($,{class:"bg-secondary",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":n[0]||(n[0]=s=>e.leftDrawerOpen=s),side:"left"},{default:o(()=>[t(V,null,{default:o(()=>[(l(!0),R(z,null,U(e.items,s=>(l(),c(f,{key:s.to,title:s.title,to:s.to,icon:s.icon},null,8,["title","to","icon"]))),128)),t(f,{title:"Sair",icon:"logout",to:e.logout,onClick:e.logout},null,8,["to","onClick"])]),_:1})]),_:1},8,["modelValue"]),t(k,{showFooter:e.showFooter,status:"confirmed",message:"Deslogado com sucesso"},null,8,["showFooter"]),t(Z,null,{default:o(()=>[t(h)]),_:1})]),_:1},8,["style"])}var ce=S(oe,[["render",re],["__scopeId","data-v-498e73f7"]]);export{ce as default};
